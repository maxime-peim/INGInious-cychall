{# This file is part of INGInious. See the LICENSE and the COPYRIGHTS files for #}
{# more information about the licensing of this file. #}

<div class="form-group row">
    <label for="exercise-selector" class="col-sm-2 control-label">Exercice</label>
    <div class="col-sm-10">
        <select type="text" class="form-control" id="exercise-selector-PID" name="problem[PID][exercice-path]" onchange="reload_options('PID')">
            {% for parent_path, exercice_configurations in exercices_configurations.items() %}
                <optgroup label="{{ exercice_configurations['name'] }}">
                {% for exercice_folder, configuration in exercice_configurations['collection'].items() %}
                    <option value="{{ exercice_folder }}" class="exercice-{{ configuration['__id'] }}">
                        {{ configuration.get('name', exercice_folder) }}
                    </option>
                {% endfor %}
                </optgroup>
            {% endfor %}
        </select>
    </div>
</div>
<div class="form-group row">
    <label for="header-PID" class="col-sm-2 control-label">Context</label>
    <div class="col-sm-10">
        <textarea id="header-PID" class="form-control" name="problem[PID][header]"></textarea>
    </div>
</div>
<div class="form-group row">
    <label for="difficulty-PID" class="col-sm-2 control-label">Difficulty</label>
    <div class="col-sm-10">
        <select type="text" class="form-control" id="difficulty-selector-PID" name="problem[PID][difficulty]" onchange="reload_options('PID')">
            {% for exercice_configurations in exercices_configurations.values() %}
                {% for configuration in exercice_configurations['collection'].values() %}
                    {% set difficulties = configuration.get('front', {}).get('difficulties', []) %}
                    {% for difficulty in difficulties %}
                        <option value="{{ difficulty }}" class="exercice-{{ configuration['__id'] }}">
                            {{ difficulty }}
                        </option>
                    {% endfor %}
                {% endfor %}
            {% endfor %}
        </select>
    </div>
</div>
<div class="form-group row">
    <label for="modify-PID" class="col-sm-3 control-label">Modify challenge content</label>
    <div class="col-sm-9">
        <div class="checkbox">
                <input id="modify-PID" name="problem[PID][modify]" type="checkbox" />
        </div>
    </div>
</div>
<div class="form-group row">
    <div role="tabpanel" class="tab-pane show active upload-area" id="exercise-options-PID">
    </div>
</div>
<script>
    $(document).ready(function(){
        reload_options("PID");
    })
</script>
